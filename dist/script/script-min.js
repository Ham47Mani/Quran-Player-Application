const audio=document.querySelector(".quran .quranPlayer"),surahsContainer=document.querySelector(".quran .surahs"),ayah=document.querySelector(".quran .ayah"),play=document.querySelector(".quran .buttons .play"),next=document.querySelector(".quran .buttons .next"),prev=document.querySelector(".quran .buttons .prev");function getSurahs(){fetch("https://api.quran.sutanlab.id/surah").then(e=>e.json()).then(e=>{for(let n in e.data)surahsContainer.innerHTML+=`\n        <div class="">\n          <p>${e.data[n].name.long}</p>\n          <p>${e.data[n].name.transliteration.en}</p>\n        </div>\n      `;let n,a;surahsContainer.querySelectorAll("div").forEach((e,t)=>{e.addEventListener("click",()=>{fetch(`https://api.quran.sutanlab.id/surah/${t+1}`).then(e=>e.json()).then(e=>{let t=e.data.verses;n=[],a=[],t.forEach(e=>{a.push(e.text.arab),n.push(e.audio.primary)});let r=0;i(r),audio.addEventListener("ended",()=>{++r<a.length?i(r):(i(r=0),audio.pause(),Swal.fire({position:"center",icon:"success",title:"إنتهـت السـورة",showConfirmButton:!1,timer:1500}),u=!0,s())}),next.addEventListener("click",()=>{r<a.length-1?r++:r=0,i(r)}),prev.addEventListener("click",()=>{0==r?r=a.length-1:r--,i(r)});let u=!1;function s(){u?(audio.pause(),play.innerHTML='\n                <i class="fas fa-play"></i>\n              ',u=!1):(audio.play(),play.innerHTML='\n                <i class="fas fa-pause"></i>\n              ',u=!0)}function i(e){audio.src=n[e],ayah.innerHTML=a[e]}s(),play.addEventListener("click",s)})})})})}getSurahs();